<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>localStorage Event</title>
</head>
<body>
  <a href="http://zhanhongtao.github.io/blog/localstorage/" target="_blank">The page you can update localstorage.</a>
  <textarea id="changed"></textarea>
  <script>
    var text = document.getElementById( 'changed' );
    window.addEventListener( 'storage', function( event ) {
      console.log( event );
      var value = [];
      value.push( 'event.key: ' + event.key );
      value.push( 'event.newValue: ' + event.newValue );
      value.push( 'event.oldValue: ' + event.oldValue );
      value.push( 'event.type: ' + event.type );
      value.push( 'event.timeStamp: ' + event.timeStamp );
      value.push( 'event.url: ' + event.url );
      text.value = text.value 
          + '----------'
          + value.join( '\n' );
    }, false );
  </script>
</body>
</html>