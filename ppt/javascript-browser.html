<!doctype html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <base target="_blank" />
  <title>Browser - JavaScript</title>
  <link rel="stylesheet" href="./css/default.css">
  <link rel="stylesheet" href="./css/base.css?v=3">
  <link rel="stylesheet" href="./css/app.css?v=3">
  <link rel="stylesheet" href="./css/scrollbar.css">
  <script src="./js/highlight.pack.js"></script>
  <script type="text/javascript">
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script>
</head>
<body spellcheck="false" class="ppt">
  <section class="slide slide-cover">
    <h1>JavaScript(browser)</h1>
    <h2 class="h3">redky@qq.com</h2>
  </section>
  <section class="slide">
    <div class="hd">
      <h1>window</h1>
    </div>
    <div class="bd">
      <h2>window object</h2>
      <ul>
        <li>window/document.defaultView
        <li>top/parent/self
        <li>iframe.contentWindow/iframe.contentDocument(兼容: iframe.contentWindow.document)
      </ul>
      <h2>property/method</h2>
      <ul>
        <li>.name
        <li>.open()/.close()
        <li>.focus()/.blur()
        <li>.alert()/.confirm()/.prompt()
        <li>.print()/.find( keywords )
        <li>.postMessage()
      </ul>
      <h2>cross-domain</h2>
      <ul>
        <li>不同协议/不同域名/不同端口(ie例外)
        <li>不同子域名可使用 document.domain 修正
        <li>限制: XMLHttpRequest/iframe
      </ul>
    </div>
  </section>
  <section class="slide">
    <div class="hd">
      <h1>navigator</h1>
    </div>
    <div class="bd">
      <ul>
        <li>userAgent
        <li>onLine
          <ul>
            <li>window.addEventListener( 'online', function() {});
            <li>window.addEventListener( 'offline', function() {});
          </ul>
        <li>geolocation
      </ul>
    </div>
  </section>
  <section class="slide">
    <div class="hd">
      <h1>location</h1>
    </div>
    <div class="bd">
      <ul>
        <li>protocol/host/hostname/href/port/pathname/search/hash
        <li>assign( url )
        <li>replace( url )
        <li>reload()
        <li>location.href = {url}
        <li>location = {url};
      </ul>
    </div>
  </section>
  <section class="slide">
    <div class="hd">
      <h1>history</h1>
    </div>
    <div class="bd">
      <h2>property/method</h2>
      <ul>
        <li>length
        <li>state
        <li>go([delta])
        <li>back()
        <li>forward()
        <li>pushState( data, title[, url] )
        <li>replaceState( data, title[, url] )
      </ul>
      <h2>event</h2>
      <ul>
        <li>window.onhashchange
        <li>window.onpopstate
        <li><a href="https://github.com/jashkenas/backbone/blob/master/backbone.js#L1494">iframe(ie)</a>
      </ul>
      <h2>Homework</h2>
      <ul>
        <li>router
      </ul>
    </div>
  </section>
  <section class="slide">
    <div class="hd">
      <h1>Storage</h1>
    </div>
    <div class="bd">
      <ul>
        <li>Cookie(string)
        <li>Session
        <li>LocalStorage(key/value)
        <li>SessionStorage
        <li>IndexedDB(SQL)
        <li>Application Cache(file)
      </ul>
    </div>
  </section>
  <section class="slide">
    <div class="hd">
      <h1>Cookie</h1>
    </div>
    <div class="bd">
      <p>存储到特定域名(domain)的特定目录(path)下, 存在过期时间(expires), 浏览器对 cookie 总大小有限制.
      <p>网页中请求子文件(css/js/image等)时, 请求 head 信息中会加上 cookie.
      <h2>Homework</h2>
      <ul>
        <li>cookie.get( key )
        <li>cookie.set( key, value, expires, domain, path );
        <li>cookie.remove( key )
      </ul>
    </div>
  </section>
  <section class="slide">
    <div class="hd">
      <h1>LocalStorage</h1>
    </div>
    <div class="bd">
      <p>localStorage 会把数据存储在本地, 并且数据没有过期时间; 各个浏览器对存储空间有大小要求, 一般可存储 5M; 超出 size 限制时, 会抛出异常.
      <p>IE 低版本不支持 localStorage, 但支持 <a href="http://msdn.microsoft.com/zh-cn/vstudio/ms531424">userdata</a>
      <ul>
        <li>.length
        <li>.key( n )
        <li>.setItem( key, value )
        <li>.getItem( key, value )
        <li>.removeItem( key, value )
        <li>.clear()
        <li>'storage' 事件, 在其他页面触发<a href="http://zhanhongtao.github.io/blog/localstorage/">event</a>/<a href="http://zhanhongtao.github.io/blog/localstorage/localstorage.html">other page</a>
      </ul>
      <p>规范：<a href="https://html.spec.whatwg.org/multipage/webstorage.html">https://html.spec.whatwg.org/multipage/webstorage.html</a>
    </div>
  </section>
  <section class="slide">
    <div class="hd">
      <h1>Application Cache</h1>
    </div>
    <div class="bd">
      <p><a href="https://html.spec.whatwg.org/multipage/browsers.html#offline">https://html.spec.whatwg.org/multipage/browsers.html#offline</a>
    </div>
  </section>
  <section class="slide">
    <div class="hd">
      <h1>screen</h1>
    </div>
    <div class="bd">
      <ul>
        <li>width
        <li>height
        <li>avaiWidth
        <li>availHeight
        <li>pixelDepth
        <li>colorDepth
      </ul>
    </div>
  </section>
  <section class="slide">
    <div class="hd">
      <h1>Links</h1>
    </div>
    <div class="bd">
      <ul>
        <li><a href="https://html.spec.whatwg.org/multipage/browsers.html">https://html.spec.whatwg.org/multipage/browsers.html</a>
      </ul>
    </div>
  </section>
  <section class="slide slide-cover">
    <h1>?</h1>
  </section>
  <nav id="navigator"></nav>
  <script src="./js/event.js"></script>
  <script src="./js/se.js?v=1"></script>
  <script src="./js/hash.js"></script>
  <script src="./js/runcase.js?v=1"></script>
  <script src="./js/ui.js"></script>
  <script src="./js/app.js"></script>
  <script src="./js/auto.slide.js"></script>
</body>
</html>
